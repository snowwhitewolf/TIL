{% extends 'base.html' %}
{% block content %}

<h1>{{ person.username }}님 프로필 페이지!</h1>

<a href="{% url 'articles:index' %}">INDEX</a>
<hr>
팔로워 : {{ person.followers.all|length }} / 팔로잉 : {{ person.followings.all|length }}
{% if user != person %}
  <form action="{% url 'accounts:follow' person.pk %}" method="POST">
  {% csrf_token %}
  {% if user in person.followers.all %}
    <button>팔로우 취소</button>
  {% else %}
    <button>팔로우</button>
  {% endif %}
  </form>
{% endif %}

<hr>
<h2>작성한 글 목록</h2>
<ul>
  {% for article in person.article_set.all %}
  <li>
    <a href="{% url 'articles:detail' article.pk %}">{{ article.title }}</a>
  </li>
  {% empty %}
  <li>작성한 글이 없어요.</li>
  {% endfor %}
</ul>
<hr>
<h2>작성한 댓글 목록</h2>
<ul>
  {% for comment in person.comment_set.all %}
    <li>{{ comment.content }}</li>
  {% empty %}
    <li>작성한 댓글이 없어요.</li>
  {% endfor %}
</ul>
<hr>
<h2>좋아요 누른 게시글 목록</h2>
<ul>
  {% for like_article in person.like_articles.all %}
    <li>
      <a href="{% url 'articles:detail' like_article.pk %}">{{ like_article.title }}</a>
    </li>
  {% empty %}
    <li>좋아요를 아직 누르지 않았어요.</li>
  {% endfor %}
</ul>

{% endblock content %}
